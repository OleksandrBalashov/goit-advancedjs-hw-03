{"version":3,"file":"commonHelpers.js","sources":["../src/cat-api.js","../src/createMarkup.js","../src/index.js"],"sourcesContent":["import axios from 'axios';\nconst API_KEY =\n  'live_zCoIfZgI2pTuINdDO1yjDpbgcwKA9fmB1Fcl70UrefaGBjTUS9X0S4AtHVTqNUNC';\n\naxios.defaults.baseURL = 'https://api.thecatapi.com/v1';\naxios.defaults.headers.common['x-api-key'] = API_KEY;\n\nconst fetchBreeds = () => axios.get('/breeds');\n\nconst fetchCatByBreed = breedId => {\n  const params = new URLSearchParams({\n    breed_ids: breedId,\n  });\n\n  return axios.get(`/images/search?${params}`);\n};\n\nexport { fetchBreeds, fetchCatByBreed };\n","function createMarkupOption(collection) {\n  return collection\n    .map(({ name, id }) => `<option value=\"${id}\" id=\"${id}\">${name}</option>`)\n    .join('');\n}\n\nfunction createCatInfoMarkup(data) {\n  return data.breeds\n    .map(\n      ({ name, description, temperament }) => `\n    <img src=\"${data.url}\" width=\"500\" alt=\"${name}\" class=\"img\" />\n    <div>\n      <h2 class=\"title\">${name}</h2>\n      <p class=\"desc\">${description}</p>\n      <p class=\"desc\"><b>Temperament: </b>${temperament}</p>\n    </div>\n  `\n    )\n    .join('');\n}\n\nexport { createMarkupOption, createCatInfoMarkup };\n","import { fetchBreeds, fetchCatByBreed } from './cat-api';\nimport { createMarkupOption, createCatInfoMarkup } from './createMarkup';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport 'normalize.css';\n\nconst refs = {\n  select: document.querySelector('.breed-select'),\n  loader: document.querySelector('.loader'),\n  catInfo: document.querySelector('.cat-info'),\n};\n\nrefs.select.style.display = 'none';\n\nrefs.select.addEventListener('change', ({ target: { value } }) => {\n  refs.catInfo.innerHTML = '';\n  setIsFetching(true);\n  fetchCatByBreed(value)\n    .then(({ data }) => {\n      const [responce] = data;\n\n      if (!responce) throw new Error();\n\n      refs.catInfo.innerHTML = createCatInfoMarkup(responce);\n    })\n    .catch(() => {\n      iziToast.show({\n        title: 'Oops!',\n        message: 'Something went wrong! Try reloading the page!',\n        color: 'red',\n        position: 'topRight',\n      });\n    })\n    .finally(() => setIsFetching(false));\n});\n\nsetIsFetching(true);\nfetchBreeds()\n  .then(({ data }) => {\n    refs.select.innerHTML = createMarkupOption(data);\n    refs.select.style.display = 'block';\n  })\n  .finally(() => setIsFetching(false));\n\nfunction setIsFetching(value) {\n  value\n    ? (refs.loader.style.display = 'block')\n    : (refs.loader.style.display = 'none');\n}\n"],"names":["API_KEY","axios","fetchBreeds","fetchCatByBreed","breedId","params","createMarkupOption","collection","name","id","createCatInfoMarkup","data","description","temperament","refs","value","setIsFetching","responce","iziToast"],"mappings":"6vBACA,MAAMA,EACJ,wEAEFC,EAAM,SAAS,QAAU,+BACzBA,EAAM,SAAS,QAAQ,OAAO,aAAeD,EAE7C,MAAME,EAAc,IAAMD,EAAM,IAAI,SAAS,EAEvCE,EAAkBC,GAAW,CACjC,MAAMC,EAAS,IAAI,gBAAgB,CACjC,UAAWD,CACf,CAAG,EAED,OAAOH,EAAM,IAAI,kBAAkBI,GAAQ,CAC7C,ECfA,SAASC,EAAmBC,EAAY,CACtC,OAAOA,EACJ,IAAI,CAAC,CAAE,KAAAC,EAAM,GAAAC,CAAE,IAAO,kBAAkBA,UAAWA,MAAOD,YAAe,EACzE,KAAK,EAAE,CACZ,CAEA,SAASE,EAAoBC,EAAM,CACjC,OAAOA,EAAK,OACT,IACC,CAAC,CAAE,KAAAH,EAAM,YAAAI,EAAa,YAAAC,CAAa,IAAK;AAAA,gBAC9BF,EAAK,yBAAyBH;AAAA;AAAA,0BAEpBA;AAAA,wBACFI;AAAA,4CACoBC;AAAA;AAAA,GAGvC,EACA,KAAK,EAAE,CACZ,CCbA,MAAMC,EAAO,CACX,OAAQ,SAAS,cAAc,eAAe,EAC9C,OAAQ,SAAS,cAAc,SAAS,EACxC,QAAS,SAAS,cAAc,WAAW,CAC7C,EAEAA,EAAK,OAAO,MAAM,QAAU,OAE5BA,EAAK,OAAO,iBAAiB,SAAU,CAAC,CAAE,OAAQ,CAAE,MAAAC,CAAK,KAAS,CAChED,EAAK,QAAQ,UAAY,GACzBE,EAAc,EAAI,EAClBb,EAAgBY,CAAK,EAClB,KAAK,CAAC,CAAE,KAAAJ,KAAW,CAClB,KAAM,CAACM,CAAQ,EAAIN,EAEnB,GAAI,CAACM,EAAU,MAAM,IAAI,MAEzBH,EAAK,QAAQ,UAAYJ,EAAoBO,CAAQ,CAC3D,CAAK,EACA,MAAM,IAAM,CACXC,EAAS,KAAK,CACZ,MAAO,QACP,QAAS,gDACT,MAAO,MACP,SAAU,UAClB,CAAO,CACP,CAAK,EACA,QAAQ,IAAMF,EAAc,EAAK,CAAC,CACvC,CAAC,EAEDA,EAAc,EAAI,EAClBd,EAAa,EACV,KAAK,CAAC,CAAE,KAAAS,KAAW,CAClBG,EAAK,OAAO,UAAYR,EAAmBK,CAAI,EAC/CG,EAAK,OAAO,MAAM,QAAU,OAChC,CAAG,EACA,QAAQ,IAAME,EAAc,EAAK,CAAC,EAErC,SAASA,EAAcD,EAAO,CAC5BA,EACKD,EAAK,OAAO,MAAM,QAAU,QAC5BA,EAAK,OAAO,MAAM,QAAU,MACnC"}